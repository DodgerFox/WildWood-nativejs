"use strict";window.onload=()=>{forum.init(),panel()};const forum={data(){fetch("assets/data/articles.json").then(t=>{t.json().then(t=>{this.articles=t,this.catcheDOM(),this.render(),this.bindEvents()})})},init(){this.data(),this.helpers()},catcheDOM(){this.input=document.querySelector('.search-input input[type="search"]'),this.list=document.querySelector(".timeline-body"),this.detail=document.querySelector(".article-wrap")},bindEvents(){this.input.addEventListener("keyup",()=>{this.render()}),this.posts.forEach(t=>{t.addEventListener("click",()=>{this.openArticle(t)})})},helpers(){$(".timeline").mCustomScrollbar({scrollInertia:350,autoHideScrollbar:!0,mouseWheel:{scrollAmount:200}}),$(".article").mCustomScrollbar({scrollInertia:350,autoHideScrollbar:!0,mouseWheel:{scrollAmount:200}})},openArticle(t){this.detail.innerHTML="",this.posts.forEach(t=>{t.classList.remove("active")}),t.classList.toggle("active"),this.articles.forEach((e,s)=>{if(e.id==t.getAttribute("data-id")){const t='<div class="article-header" style="background-image: url(\''+e.cover+'\');">\n            <div class="author">\n              <div class="author__avatar" style="background-image: url(\''+e.avatar+'\');">\n                <div class="author-cat">\n                  <div class="author-cat__item snowboard"></div>\n                </div>\n              </div>\n              <p class="author-name">Mary Jackson</p>\n            </div>\n          </div>\n          <div class="content">\n            <div class="content-wrap">\n              <div class="content-info">\n                <p class="content-info__item">'+e.date+'</p>\n                <p class="content-info__item">'+e.views+' просмотров</p>\n                <p class="content-info__item">2 комментария</p>\n              </div>\n              <div class="content-body">\n              '+e.content+"\n              </div>\n            </div>\n          </div>";this.detail.insertAdjacentHTML("beforeEnd",t)}})},render(){const t=this.articles.filter(t=>t.title.toUpperCase().indexOf(this.input.value.toUpperCase())>-1);this.list.innerHTML="",t.length>0?t.forEach(t=>{const e='<article class="post" data-id="'+t.id+'"> \n                <p class="post-title">'+t.title+'</p>\n                <div class="category">\n                  <div class="category-item snowboard"></div>\n                  <div class="category-item ski"></div>\n                  <div class="category-item skateboard"></div>\n                </div>\',\n                <div class="info">\n                  <div class="info-wrap">\n                    <p class="info__tag">'+t.tags+'</p>\n                    <p class="info__date">'+t.date+'</p>\n                  </div>\n                  <div class="info-wrap">\n                    <a class="info__flame" href="#">\n                      <img src="assets/images/icon_flame.svg" class="mCS_img_loaded">\n                    </a>\n                    <a class="info__user" href="#" style="background-image: url(\''+t.avatar+"');\"></a>\n                  </div>\n                </div>\n              </article>";this.list.insertAdjacentHTML("beforeEnd",e)}):this.list.insertAdjacentHTML("beforeEnd","<p>Нетъ</p>"),this.posts=document.querySelectorAll(".post")}},panel=()=>{const t=document.querySelector(".menu-user"),e=document.querySelector(".panel");t.addEventListener("click",()=>{e.classList.toggle("active")})};